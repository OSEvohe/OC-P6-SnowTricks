{% extends 'base.html.twig' %}

{% form_theme form _self %}

{% import 'prototypes/trickMedia_prototype.html.twig' as formPrototype %}

{% block _trick_trickMediaPicture_row %}{{ formPrototype.trickMediaPrototype('Picture', prototype, form) }}{% endblock %}
{% block _trick_trickMediaVideo_row %}{{ formPrototype.trickMediaPrototype('Video', prototype, form) }}{% endblock %}

{% block title %}Trick Name - {{ parent() }}{% endblock %}

{% block body %}
    <div class="trick-body trick-add">
        <div class="container p-0 my-0">
            <section class="trick-name row">
                <div class="col-12">
                    <div class="trick-image">

                    </div>
                    <h1>Ajout d'un nouveau Trick</h1>
                </div>
            </section>
        </div>
        {{ form_start(form,  {'attr': {'novalidate': 'novalidate'}}) }}
        <div class="container pt-5">
            <div class="row pb-5">
                <div class="col-11 px-5 py-2 mx-auto bg-primary text-light">
                    <div class="text-center"><h2>Description du Trick</h2></div>
                    <div class="form-group">
                        {{ form_label(form.name) }}
                        {{ form_widget(form.name,{'attr' : {'class': 'form-control'}}) }}
                        <div class="alert-danger">{{ form_errors(form.name) }}</div>
                    </div>
                    <div class="form-group">
                        {{ form_label(form.description) }}
                        {{ form_widget(form.description,{'attr' : {'class': 'form-control'}}) }}
                        <div class="alert-danger">{{ form_errors(form.description) }}</div>
                    </div>
                    <div class="form-group">
                        {{ form_label(form.trickGroup) }}
                        {{ form_widget(form.trickGroup,{'attr' : {'class': 'form-control'}}) }}
                    </div>
                </div>
                <div class="col-11 px-5 py-2 mx-auto bg-primary text-light mt-4 border border-dark">
                    <div class="text-center"><h2>{{ form_label(form.cover) }}</h2></div>
                    <div class="form-group">
                        {{ form_label(form.cover.content) }}
                        {{ form_widget(form.cover.content,{'attr' : {'class': 'form-control-file'}}) }}
                        <div class="alert-danger">{{ form_errors(form.cover.content) }}</div>
                    </div>
                    <div class="form-group">
                        {{ form_label(form.cover.alt) }}
                        {{ form_widget(form.cover.alt,{'attr' : {'class': 'form-control-file'}}) }}
                        <div class="alert-danger">{{ form_errors(form.cover.alt) }}</div>
                        {{ form_widget(form.cover.type) }}

                    </div>
                </div>
                <div class="col-11 px-5 py-2 mx-auto bg-primary text-light mt-4">
                    <div class="text-center">
                        <h2>Medias suppl√©mentaires</h2>
                    </div>
                    <a id="add_trickMediaPicture" href="#" class="text-light">Ajouter une image</a>
                    <a id="add_trickMediaVideo" href="#" class="text-light">Ajouter une video</a>
                </div>
                <div id="additional_medias" class="col-11 p-0 mx-auto">
                    {{ form_row(form.trickMediaPicture) }}
                    {{ form_row(form.trickMediaVideo) }}
                </div>
                <div class="col-12 text-center p-3">
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">Enregistrer</button>
                    </div>
                </div>
            </div>
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}